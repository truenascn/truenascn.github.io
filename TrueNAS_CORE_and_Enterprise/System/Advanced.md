# 高级设置

系统（**System**） > 高级（**Advanced**）包含更多用于配置系统设置的高级选项。

这些选项具有合理的默认设置。 在进行任何更改之前，请确保您熟悉 ZFS、FreeBSD 和系统配置备份和恢复。

![](https://www.truenas.com/docs/images/CORE/12.0/SystemAdvanced.png)

## 终端（Console）

| 项目名称                                                     | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 显示没有密码提示的文本控制台（**Show Text Console without Password Prompt**） | 取消设置，即可在显示控制台菜单之前向要求登录。               |
| 启用串行控制台（**Enable Serial Console**）                  | 如果服务器没有串行端口，或串行端口在BIOS中被禁用，则不要设置此项。 |
| MOTD横幅（**MOTD Banner**）                                  | 当用户使用 SSH 登录时，向用户显示一段文本消息。              |

## 存储（Storage）

| 项目名称                                                     | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Swap交换分区大小（**Swap Size in GiB**）                     | 相当于Windows下的虚拟内存，以GB为单位填写。默认情况下，所有数据磁盘都是使用指定的交换量创建的。 更改该值不会影响现有磁盘上的交换量，只会影响更改后添加的磁盘。 不影响日志或缓存设备，因为它们是在没有交换的情况下创建的。 设置为 0 将完全禁用交换创建。 （**强烈反对**） |
| 以 GiB 为单位的 LOG（写入缓存）超额配置大小（**LOG (Write Cache) Overprovision Size in GiB**） | 过度配置 ZFS Log SSD 可以通过在更多驱动器闪存块之间分配写入和擦除来提高其性能和寿命。 在此定义多个 GiB 会在池创建或扩展期间过度配置 ZFS 日志磁盘。 示例：50 GiB、10g、5GB |

## 用户界面（GUI）

| 项目名称                                                | 描述                                 |
| ------------------------------------------------------- | ------------------------------------ |
| 显示控制台消息（**Show Console Messages**）             | 在浏览器底部实时显示控制台消息。     |
| 默认显示高级字段（**Show Advanced Fields by Default**） | 设置为始终显示高级字段（如果可用）。 |

## 内核（Kernel）

| 项目名称                                                | 描述                                 |
| ------------------------------------------------------- | ------------------------------------ |
| 显示控制台消息（**Show Console Messages**）             | 在浏览器底部实时显示控制台消息。     |
| 默认显示高级字段（**Show Advanced Fields by Default**） | 设置为始终显示高级字段（如果可用）。 |

## 自加密驱动器（Self-Encrypting Drive）

| 项目名称                              | 描述                                         |
| ------------------------------------- | -------------------------------------------- |
| ATA 安全用户（**ATA Security User**） | 用户传递给 camcontrol security -u 以解锁 SED |
| 自加密驱动器密码（**SED Password**）  | 用于解锁 SED 的全局密码。                    |

## 系统日志（Syslog）

| 项目名称                                           | 描述                                                         |
| -------------------------------------------------- | ------------------------------------------------------------ |
| 使用 FQDN 进行日志记录（**Use FQDN for Logging**） | 设置为在日志中包含完全限定域名 (FQDN)，以精确识别具有相似主机名的系统。 |
| 系统日志级别（**Syslog Level**）                   | 仅记录与此级别匹配的日志。                                   |
| 系统日志服务器（**Syslog Server**）                | 远程系统日志服务器 DNS 主机名或 IP 地址。 可以通过在主机名中添加冒号和端口号来使用非标准端口号，例如“mysyslogserver:1928”。 设置后，日志条目会在写入本地日志的同时被发送到远程系统日志服务器。 |
| 系统日志传输（**Syslog Transport**）               | [传输协议](https://tools.ietf.org/html/rfc8095) 用于远程系统日志服务器连接。 选择传输层安全 (TLS) 还需要选择预配置的系统证书。 |

还有一个选项可以保存调试（**SAVE DEBUG**）。 这将生成包含诊断信息的文本文件。 收集调试数据后，系统会提示您选择保存压缩的 .tar 文件的位置。

## 自动调节（ Autotune）

TrueNAS 提供了一个自动调整脚本，可根据安装的硬件优化系统。

要查看执行了哪些检查，自动调整脚本位于 /usr/local/bin/autotune 中。

例如，如果TrueNAS被安装到内存（**RAM**）不足的系统上，自动调整脚本会自动调整一些 ZFS sysctl 值，以尽量减少内存不足问题。 自动调整可能会引入系统性能问题，并且只能用作系统的临时措施，直到解决底层硬件问题。 Autotune 总是会减慢 RAM 不足的系统，因为它会限制 ARC。

**注意：不建议 TrueNAS Enterprise 客户使用自动调整脚本，因为这会覆盖 iXsystems 支持所做的任何特定调整。**

启用自动调整会在启动时运行自动调整器脚本。 要立即运行脚本，请重新启动系统。

任何经过调整的设置都出现在系统（**System**） > 可调参数（**Tunables**）中。

| 我可以手动调整由自动调整器控制的设置吗？                     |
| ------------------------------------------------------------ |
| 删除自动调整创建的可调参数只会影响当前会话。 每次系统启动时都会重新创建自动调整设置的可调参数。 这意味着由自动调整器控制的任何设置都不允许进一步手动调谐。要永久更改自动调整设置的值，请更改可调参数的说明。 例如，将描述更改为手动覆盖可防止自动调整将该可调参数恢复为自动调谐默认值。 |

尝试提高 TrueNAS 系统的性能时，尤其是当前硬件限制性能时，请尝试启用自动调整。

